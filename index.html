<!doctype html>
<html lang="en">
  <head>
    
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9WEQBFZYWX"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9WEQBFZYWX');
</script>

    <!-- Character Encoding & Viewport -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="icon" type="image/png" sizes="48x48" href="favicon.png">

<link rel="apple-touch-icon" href="favicon.png">
    
    <!-- SEO Meta Tags -->
    <title>Emoji Spy | Secure Emoji Encryption Tool (AES-256)</title>
    <meta
      name="description"
      content="Securely encrypt your messages into emojis using AES-256. Private, free, and works on any device."
    />
    <meta
      name="keywords"
      content="emoji encryption,encrypt your message using emoji spy tool by Muhammad Abdullah,encrypt your message using emoji spy tool,Encrypt WhatsApp messages with emojis,Secret emoji code generator,emoji encryption made by muhammad abdullah,emoji spy made by muhammad abdullah, encryption, message encryption, encrypt message, encrypt emoji, message encrypt, text to emoji,text to emoji converter, converter, convert text to emoji, AES-256, private messaging,emoji spy,"
    />

    <!-- Open Graph Tags for Social Sharing -->
    <meta
      property="og:title"
      content="Emoji Spy - Send Hidden Messages on WhatsApp"
    />
    <meta
      property="og:description"
      content="Encrypt your secret messages into emojis. Free, private, and secure."
    />
    <meta property="og:type" content="website" />
    
    <!-- Twitter Card Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Emoji Spy - Send Hidden Messages on WhatsApp" />
    <meta name="twitter:description" content="Encrypt your secret messages into emojis. Free, private, and secure." 
      

    <!-- Google Fonts: Inter (body) + JetBrains Mono (code/hacker aesthetic) -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap"
      rel="stylesheet"
    />

    <!-- CDN Imports -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    
    <!-- Tailwind Configuration -->
    <script>
      tailwind.config = {
        darkMode: 'class',
        theme: {
          extend: {
            colors: {
              'primary': '#0f172a',        // slate-900 - dark background
              'accent-green': '#39FF14',   // neon green
              'accent-purple': '#a855f7',  // purple glow
            },
            fontFamily: {
              'body': ['Inter', 'sans-serif'],
              'mono': ['JetBrains Mono', 'monospace'],
            },
          },
        },
      };
    </script>
    
    <!-- Custom Styles & Animations -->
    <style>
      /* Apply font families globally */
      body {
        font-family: 'Inter', sans-serif;
      }
      
      /* Neon Glow Animation for Buttons */
      @keyframes neon-glow {
        0%, 100% {
          box-shadow: 0 0 5px #39FF14, 0 0 10px #39FF14, 0 0 20px #39FF14, 0 0 40px #39FF14;
        }
        50% {
          box-shadow: 0 0 10px #39FF14, 0 0 20px #39FF14, 0 0 30px #39FF14, 0 0 60px #39FF14;
        }
      }
      
      .neon-glow-green {
        animation: neon-glow 2s ease-in-out infinite;
      }
      
      /* Purple Glow Animation */
      @keyframes purple-glow {
        0%, 100% {
          box-shadow: 0 0 5px #a855f7, 0 0 10px #a855f7, 0 0 20px #a855f7, 0 0 40px #a855f7;
        }
        50% {
          box-shadow: 0 0 10px #a855f7, 0 0 20px #a855f7, 0 0 30px #a855f7, 0 0 60px #a855f7;
        }
      }
      
      .neon-glow-purple {
        animation: purple-glow 2s ease-in-out infinite;
      }

      /* Shake Animation for Errors */
      @keyframes shake {
          0%, 100% { transform: translateX(0); }
          25% { transform: translateX(-5px); }
          75% { transform: translateX(5px); }
      }
      .animate-shake {
          animation: shake 0.3s cubic-bezier(.36,.07,.19,.97) both;
      }
      
      /* Smooth Tab Transition */
      .tab-transition {
        transition: all 0.3s ease;
      }
      
      /* Pulsing Border Animation for Output Box */
      @keyframes pulse-border {
        0%, 100% {
          border-color: #39FF14;
          box-shadow: 0 0 5px rgba(57, 255, 20, 0.5);
        }
        50% {
          border-color: #2dd40f;
          box-shadow: 0 0 15px rgba(57, 255, 20, 0.8);
        }
      }
      
      .pulse-border {
        animation: pulse-border 2s ease-in-out infinite;
      }
      
      /* Pulsing Border Animation for Decrypt Output Box (Purple) */
      @keyframes pulse-border-purple {
        0%, 100% {
          border-color: #a855f7;
          box-shadow: 0 0 5px rgba(168, 85, 247, 0.5);
        }
        50% {
          border-color: #9333ea;
          box-shadow: 0 0 15px rgba(168, 85, 247, 0.8);
        }
      }
      
      /* Loading Spinner Animation */
      @keyframes spin {
        from {
          transform: rotate(0deg);
        }
        to {
          transform: rotate(360deg);
        }
      }
      
      .spinner {
        animation: spin 1s linear infinite;
      }
      
      /* Custom Scrollbar for Dark Mode */
      ::-webkit-scrollbar {
        width: 10px;
      }
      
      ::-webkit-scrollbar-track {
        background: #1e293b;
      }
      
      ::-webkit-scrollbar-thumb {
        background: #475569;
        border-radius: 5px;
      }
      
      ::-webkit-scrollbar-thumb:hover {
        background: #64748b;
      }
      
      /* Smooth Fade-in Animation */
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }
        to {
          transform: rotate(360deg);
        }
      }
      
      .fade-in {
        animation: fadeIn 0.4s ease-out;
      }
      
      /* Accordion Smooth Height Transition */
      .accordion-content {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.3s ease-out;
      }
      
      .accordion-content.open {
        max-height: 500px;
        transition: max-height 0.5s ease-in;
      }
      
      /* Chevron Rotation for Accordion */
      .chevron {
        transition: transform 0.3s ease;
      }
      
      .chevron.rotate {
        transform: rotate(180deg);
      }
      
      /* Gradient Text Effect */
      .gradient-text {
        background: linear-gradient(135deg, #39FF14 0%, #2dd40f 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }
      
      /* Button Hover Effects */
      .btn-hover {
        transition: all 0.2s ease;
      }
      
      .btn-hover:hover {
        transform: translateY(-2px);
      }
      
      .btn-hover:active {
        transform: translateY(0);
      }
    </style>
  </head>
  <body class="bg-primary text-gray-100 min-h-screen">
    <!-- Header Section -->
    <header class="container mx-auto px-4 py-12 md:py-16 text-center">
      <div class="inline-block relative group">
        <!-- Background Glow Effect -->
        <div class="absolute -inset-10 bg-accent-green/5 blur-3xl rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-700"></div>
        
        <div class="relative flex flex-col md:flex-row items-center justify-center gap-4 md:gap-6">
          <!-- The Spy Emoji (Naturally Colored) -->
          <div class="relative">
            <span class="text-5xl md:text-8xl select-none filter drop-shadow-[0_0_15px_rgba(57,255,20,0.2)] group-hover:drop-shadow-[0_0_25px_rgba(57,255,20,0.4)] transition-all duration-500 transform group-hover:scale-110">üïµÔ∏è</span>
            <!-- Small Pulse Indicator -->
            <span class="absolute top-0 right-0 w-4 h-4 bg-accent-green rounded-full border-2 border-primary animate-ping"></span>
          </div>

          <div class="flex flex-col items-center md:items-start text-center md:text-left">
            <h1 class="text-5xl md:text-7xl font-black font-mono tracking-tighter flex items-center">
              <span class="gradient-text">Emoji</span>
              <span class="text-white ml-2 md:ml-4 relative">
                Spy
                <!-- Underline Decoration -->
                <span class="absolute -bottom-2 left-0 w-full h-1 bg-gradient-to-r from-accent-green to-transparent rounded-full opacity-40"></span>
              </span>
              <!-- Status Badge -->
              <span class="ml-4 px-2 py-1 text-[10px] md:text-xs bg-accent-green/10 text-accent-green border border-accent-green/20 rounded font-mono uppercase tracking-widest hidden md:inline-block animate-pulse">
                Encrypted
              </span>
            </h1>
            
            <div class="flex items-center gap-3 mt-3 w-full opacity-60 group-hover:opacity-100 transition-opacity duration-500">
              <div class="h-[1px] flex-grow bg-gradient-to-r from-transparent via-accent-green/40 to-transparent md:to-accent-green/40"></div>
              <p class="text-[9px] md:text-xs font-mono text-accent-green tracking-[0.4em] uppercase whitespace-nowrap">
                Secure Intelligence Protocol
              </p>
              <div class="h-[1px] flex-grow md:flex-grow-0 md:w-12 bg-gradient-to-l from-transparent to-accent-green/40"></div>
            </div>
          </div>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 pb-12">
      <!-- Tab Switcher Container -->
      <div class="max-w-3xl mx-auto">
        <!-- Tab Buttons -->
        <div class="flex gap-4 mb-8 bg-slate-800/50 p-2 rounded-xl backdrop-blur-sm border border-slate-700">
          <button
            id="encryptTab"
            class="tab-btn flex-1 py-3 px-6 rounded-lg font-semibold text-base md:text-lg transition-all duration-300 btn-hover"
            data-tab="encrypt"
          >
            üîí Encrypt
          </button>
          <button
            id="decryptTab"
            class="tab-btn flex-1 py-3 px-6 rounded-lg font-semibold text-base md:text-lg transition-all duration-300 btn-hover"
            data-tab="decrypt"
          >
            üîì Decrypt
          </button>
        </div>

        <!-- Tab Content Containers -->
        <div id="tabContent" class="relative">
          <!-- Encrypt Tab Content -->
          <div id="encryptContent" class="tab-content fade-in">
            <div class="bg-slate-800/30 border border-slate-700 rounded-2xl p-6 md:p-8 backdrop-blur-sm">
              <h2 class="text-2xl font-bold mb-4 text-accent-green">
                üîí Encrypt Message
              </h2>
              <p class="text-gray-400 mb-6">
                Transform your secret text into emojis that only your recipient can decode.
              </p>
              <!-- Encrypt Form -->
              <form id="encryptForm" class="space-y-6">
                <!-- Message Input -->
                <div>
                  <label for="messageInput" class="block text-sm font-semibold text-gray-300 mb-2">
                    Your Secret Message
                  </label>
                  <div class="relative group">
                    <textarea
                      id="messageInput"
                      rows="2"
                      placeholder="Type your secret message here..."
                      class="w-full pl-4 pr-10 py-3 bg-slate-900/50 border border-slate-600 rounded-lg text-gray-100 placeholder-gray-500 focus:outline-none focus:border-accent-green focus:ring-2 focus:ring-accent-green/20 transition-all duration-200 resize-none font-body"
                      required
                    ></textarea>
                    <button
                      type="button"
                      id="clearMessageInput"
                      class="absolute right-3 top-3 text-gray-400 hover:text-red-400 transition-colors duration-200 hidden"
                      title="Clear message"
                    >
                      ‚úñÔ∏è
                    </button>
                  </div>
                  <div class="flex justify-between mt-2">
                    <p id="encryptMessageError" class="text-xs text-red-400 hidden font-semibold">‚ö†Ô∏è Please enter a message to encrypt</p>
                    <p id="charCount" class="text-xs text-gray-500 ml-auto">0 characters</p>
                  </div>
                </div>

                <!-- Password Input -->
                <div>
                  <label for="passwordInput" class="block text-sm font-semibold text-gray-300 mb-2">
                    Encryption Password
                  </label>
                  <div class="relative">
                    <input
                      type="password"
                      id="passwordInput"
                      placeholder="Enter a strong password..."
                      class="w-full pl-4 pr-20 py-3 bg-slate-900/50 border border-slate-600 rounded-lg text-gray-100 placeholder-gray-500 focus:outline-none focus:border-accent-green focus:ring-2 focus:ring-accent-green/20 transition-all duration-200"
                      required
                      minlength="4"
                    />
                    <div class="absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-3">
                      <button
                        type="button"
                        id="clearPasswordInput"
                        class="text-gray-400 hover:text-red-400 transition-colors duration-200 hidden"
                        title="Clear password"
                      >
                        ‚úñÔ∏è
                      </button>
                      <button
                        type="button"
                        id="togglePassword"
                        class="text-gray-400 hover:text-accent-green transition-colors duration-200"
                        aria-label="Toggle password visibility"
                      >
                        <span id="eyeIcon">üëÅÔ∏è</span>
                      </button>
                    </div>
                  </div>
                  <p id="encryptPasswordError" class="text-xs text-red-400 mt-2 hidden font-semibold">‚ö†Ô∏è Password must be at least 4 characters long</p>
                  <p class="text-xs text-gray-500 mt-2">
                    üí° Tip: Use a strong password that you can share with your recipient
                  </p>
                </div>

                <!-- General Error Message -->
                <div id="encryptGeneralError" class="hidden p-3 bg-red-900/20 border border-red-500/50 rounded-lg text-red-200 text-sm flex items-center gap-2">
                    <span>‚ùå</span>
                    <span id="encryptGeneralErrorText">Encryption failed</span>
                </div>

                <!-- Encrypt Button -->
                <button
                  type="submit"
                  id="encryptBtn"
                  class="w-full py-4 bg-accent-green text-slate-900 font-bold text-lg rounded-lg neon-glow-green btn-hover transition-all duration-200 flex items-center justify-center gap-2"
                >
                  <span>üîí</span>
                  <span>Encrypt Message</span>
                </button>
              </form>


              <!-- Output Section (Hidden by default) -->
              <div id="encryptOutput" class="mt-8 hidden">
                <div class="border-t border-slate-700 pt-6">
                  <h3 class="text-lg font-semibold text-accent-green mb-3 flex items-center gap-2">
                    <span>‚úÖ</span>
                    <span>Encrypted Message</span>
                  </h3>
                  
                  <!-- Encrypted Output Display -->
                  <div class="relative">
                    <div
                      id="encryptedText"
                      class="w-full pl-4 pr-44 py-4 bg-slate-900/70 border-2 border-accent-green rounded-lg text-gray-100 font-mono text-sm break-all min-h-[100px] max-h-[200px] overflow-y-auto pulse-border"
                    ></div>
                    
                    <!-- Action Buttons -->
                    <div class="absolute top-2 right-2 flex gap-2">
                      <button
                        type="button"
                        id="shareWhatsAppBtn"
                        class="px-3 py-2 bg-green-600 text-white font-semibold text-xs md:text-sm rounded-md hover:bg-green-500 transition-all duration-200 btn-hover flex items-center gap-1"
                        title="Share on WhatsApp"
                      >
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-whatsapp w-4 h-4" viewBox="0 0 16 16">
                          <path d="M13.601 2.326A7.854 7.854 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.933 7.933 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.898 7.898 0 0 0 13.6 2.326zM7.994 14.521a6.573 6.573 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.557 6.557 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592zm3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.729.729 0 0 0-.529.247c-.182.198-.691.677-.691 1.654 0 .977.71 1.916.81 2.049.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232z"/>
                        </svg>
                        <span class="hidden md:inline">Share</span>
                      </button>
                      <button
                        type="button"
                        id="copyEncryptBtn"
                        class="px-3 py-2 bg-accent-green text-slate-900 font-semibold text-xs md:text-sm rounded-md hover:bg-green-400 transition-all duration-200 btn-hover flex items-center gap-1"
                        title="Copy to Clipboard"
                      >
                        <span id="copyIcon">üìã</span>
                        <span id="copyText" class="hidden md:inline">Copy</span>
                      </button>
                    </div>
                  </div>



                  <!-- Reset Button -->
                  <button
                    type="button"
                    id="resetEncryptBtn"
                    class="w-full mt-4 py-3 bg-slate-700 text-gray-300 font-semibold rounded-lg hover:bg-slate-600 transition-all duration-200 btn-hover"
                  >
                    üîÑ Encrypt Another Message
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- Decrypt Tab Content -->
          <div id="decryptContent" class="tab-content hidden">
            <div class="bg-slate-800/30 border border-slate-700 rounded-2xl p-6 md:p-8 backdrop-blur-sm">
              <h2 class="text-2xl font-bold mb-4 text-accent-purple">
                üîì Decrypt Message
              </h2>
              <p class="text-gray-400 mb-6">
                Paste the emoji message and enter the password to reveal the hidden text.
              </p>
              <!-- Decrypt Form -->
              <form id="decryptForm" class="space-y-6">
                <!-- Emoji Message Input -->
                <div>
                  <label for="emojiInput" class="block text-sm font-semibold text-gray-300 mb-2">
                    Encrypted Emoji Message
                  </label>
                  <div class="relative group">
                    <textarea
                      id="emojiInput"
                      rows="2"
                      placeholder="Paste the encrypted emoji message here..."
                      class="w-full pl-4 pr-10 py-3 bg-slate-900/50 border border-slate-600 rounded-lg text-gray-100 placeholder-gray-500 focus:outline-none focus:border-accent-purple focus:ring-2 focus:ring-accent-purple/20 transition-all duration-200 resize-none font-mono text-sm"
                      required
                    ></textarea>
                    <button
                      type="button"
                      id="clearEmojiInput"
                      class="absolute right-3 top-3 text-gray-400 hover:text-red-400 transition-colors duration-200 hidden"
                      title="Clear emoji message"
                    >
                      ‚úñÔ∏è
                    </button>
                  </div>
                  <p id="decryptEmojiError" class="text-xs text-red-400 mt-2 hidden font-semibold">‚ö†Ô∏è Please paste the encrypted emoji message</p>
                  <p class="text-xs text-gray-500 mt-2">
                    üì• Paste the emoji message you received
                  </p>
                </div>

                <!-- Password Input -->
                <div>
                  <label for="decryptPasswordInput" class="block text-sm font-semibold text-gray-300 mb-2">
                    Decryption Password
                  </label>
                  <div class="relative">
                    <input
                      type="password"
                      id="decryptPasswordInput"
                      placeholder="Enter the password..."
                      class="w-full pl-4 pr-20 py-3 bg-slate-900/50 border border-slate-600 rounded-lg text-gray-100 placeholder-gray-500 focus:outline-none focus:border-accent-purple focus:ring-2 focus:ring-accent-purple/20 transition-all duration-200 font-mono"
                      required
                      minlength="4"
                    />
                    <div class="absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-3">
                      <button
                        type="button"
                        id="clearDecryptPasswordInput"
                        class="text-gray-400 hover:text-red-400 transition-colors duration-200 hidden"
                        title="Clear password"
                      >
                        ‚úñÔ∏è
                      </button>
                      <button
                        type="button"
                        id="toggleDecryptPassword"
                        class="text-gray-400 hover:text-accent-purple transition-colors duration-200"
                        aria-label="Toggle password visibility"
                      >
                        <span id="decryptEyeIcon">üëÅÔ∏è</span>
                      </button>
                    </div>
                  </div>
                  <p id="decryptPasswordError" class="text-xs text-red-400 mt-2 hidden font-semibold">‚ö†Ô∏è Please enter the decryption password</p>
                  <p class="text-xs text-gray-500 mt-2">
                    üîë Enter the same password used for encryption
                  </p>
                </div>

                <!-- General Error Message -->
                <div id="decryptGeneralError" class="hidden p-3 bg-red-900/20 border border-red-500/50 rounded-lg text-red-200 text-sm flex items-center gap-2">
                    <span>‚ùå</span>
                    <span id="decryptGeneralErrorText">Decryption failed</span>
                </div>

                <!-- Decrypt Button -->
                <button
                  type="submit"
                  id="decryptBtn"
                  class="w-full py-4 bg-accent-purple text-white font-bold text-lg rounded-lg neon-glow-purple btn-hover transition-all duration-200 flex items-center justify-center gap-2"
                >
                  <span>üîì</span>
                  <span>Decrypt Message</span>
                </button>
              </form>



              <!-- Decrypted Output Section (Hidden by default) -->
              <div id="decryptOutput" class="mt-8 hidden">
                <div class="border-t border-slate-700 pt-6">
                  <h3 class="text-lg font-semibold text-accent-purple mb-3 flex items-center gap-2">
                    <span>‚úÖ</span>
                    <span>Decrypted Message</span>
                  </h3>
                  
                  <!-- Decrypted Output Display -->
                  <div class="relative">
                    <div
                      id="decryptedText"
                      class="w-full px-4 py-4 bg-slate-900/70 border-2 border-accent-purple rounded-lg text-gray-100 font-body text-base break-words min-h-[100px] max-h-[300px] overflow-y-auto"
                      style="animation: pulse-border-purple 2s ease-in-out infinite;"
                    ></div>
                  </div>
                  
                  <!-- Copy Button (Moved Outside) -->
                  <button
                    type="button"
                    id="copyDecryptBtn"
                    class="w-full mt-3 py-3 bg-accent-purple text-white font-semibold text-lg rounded-lg hover:bg-purple-600 transition-all duration-200 btn-hover flex items-center justify-center gap-2"
                  >
                    <span id="copyDecryptIcon">üìã</span>
                    <span id="copyDecryptText">Copy Message</span>
                  </button>


                  <!-- Reset Button -->
                  <button
                    type="button"
                    id="resetDecryptBtn"
                    class="w-full mt-4 py-3 bg-slate-700 text-gray-300 font-semibold rounded-lg hover:bg-slate-600 transition-all duration-200 btn-hover"
                  >
                    üîÑ Decrypt Another Message
                  </button>
                </div>
              </div>
          </div>
        </div>

        <!-- Space between tool and extra content -->
        <div class="mt-8"></div>

        <!-- Global AdSense Placeholder 
        <div id="adsense-placeholder" class="max-w-3xl mx-auto w-full h-24 bg-slate-800/50 border border-slate-700 rounded-lg flex items-center justify-center mb-12 backdrop-blur-sm">
          <span class="text-gray-500 text-sm font-mono">Advertisement Space</span>
        </div>

        <div class="mt-8"></div>-->

        <!-- Instructions -->
        <div id="instructionSection" class="max-w-3xl mx-auto mb-12 hidden">
          <div class="p-6 bg-slate-800/30 border border-slate-700 rounded-2xl backdrop-blur-sm">
            <h3 class="text-lg font-bold text-accent-green mb-4 flex items-center gap-2">
              <span>üì§</span>
              <span>How to send:</span>
            </h3>
            <ol class="text-gray-300 space-y-3 ml-4 list-decimal leading-relaxed">
              <li><span class="font-semibold text-gray-100">Copy</span> the encrypted emoji message above</li>
              <li><span class="font-semibold text-gray-100">Send</span> it to your recipient via WhatsApp or any messaging app</li>
              <li><span class="font-semibold text-gray-100">Share</span> the password separately (voice call, in person, etc.)</li>
              <li>Your recipient can <span class="font-semibold text-gray-100">decrypt</span> it using the same password</li>
            </ol>
          </div>
        </div>

        <div class="mt-8"></div>


        <!-- Step 13: FAQ Section -->
        <div class="max-w-2xl mx-auto space-y-4">
          <h3 class="text-xl font-bold text-gray-200 mb-6 flex items-center gap-2">
            <span>üìö</span>
            <span>How It Works & Privacy Guide</span>
          </h3>

          <!-- FAQ Item 1 -->
          <div class="border border-slate-700 rounded-lg bg-slate-800/30 overflow-hidden backdrop-blur-sm">
            <button class="accordion-header w-full px-6 py-4 flex items-center justify-between text-left hover:bg-slate-800/50 transition-colors duration-200">
              <span class="font-semibold text-gray-200">üîê Is this tool safe?</span>
              <span class="chevron text-gray-400 transition-transform duration-300">‚ñº</span>
            </button>
            <div class="accordion-content bg-slate-900/30">
              <div class="p-6 text-gray-400 text-sm leading-relaxed border-t border-slate-700/50">
                <p>Yes, absolutely. We use <strong>AES-256 encryption</strong>, which is the same standard used by banks and military organizations. All encryption happens <strong>locally in your browser</strong>. Your messages never leave your device, and we (the developers) cannot see them.</p>
              </div>
            </div>
          </div>

          <!-- FAQ Item 2 -->
          <div class="border border-slate-700 rounded-lg bg-slate-800/30 overflow-hidden backdrop-blur-sm">
            <button class="accordion-header w-full px-6 py-4 flex items-center justify-between text-left hover:bg-slate-800/50 transition-colors duration-200">
              <span class="font-semibold text-gray-200">üòé Why use Emojis?</span>
              <span class="chevron text-gray-400 transition-transform duration-300">‚ñº</span>
            </button>
            <div class="accordion-content bg-slate-900/30">
              <div class="p-6 text-gray-400 text-sm leading-relaxed border-t border-slate-700/50">
                <p>Emojis are fun and discreet! They bypass spam filters and look like casual conversation. This tool hides your secret text inside a string of emojis, so it doesn't look like a suspicious block of random characters.</p>
              </div>
            </div>
          </div>

          <!-- FAQ Item 3 -->
          <div class="border border-slate-700 rounded-lg bg-slate-800/30 overflow-hidden backdrop-blur-sm">
            <button class="accordion-header w-full px-6 py-4 flex items-center justify-between text-left hover:bg-slate-800/50 transition-colors duration-200">
              <span class="font-semibold text-gray-200">‚úÖ Best Practices</span>
              <span class="chevron text-gray-400 transition-transform duration-300">‚ñº</span>
            </button>
            <div class="accordion-content bg-slate-900/30">
              <div class="p-6 text-gray-400 text-sm leading-relaxed border-t border-slate-700/50">
                <ul class="list-disc pl-4 space-y-1">
                  <li>Share your password <strong>in person</strong> or via a secure voice call.</li>
                  <li>Never paste the password in the same chat as the encrypted message.</li>
                  <li>Use a unique password for each conversation.</li>
                </ul>
              </div>
            </div>
          </div>

          <!-- FAQ Item 4: Lost Password -->
          <div class="border border-slate-700 rounded-lg bg-slate-800/30 overflow-hidden backdrop-blur-sm">
            <button class="accordion-header w-full px-6 py-4 flex items-center justify-between text-left hover:bg-slate-800/50 transition-colors duration-200">
              <span class="font-semibold text-gray-200">ü§ï What if I forget my password?</span>
              <span class="chevron text-gray-400 transition-transform duration-300">‚ñº</span>
            </button>
            <div class="accordion-content bg-slate-900/30">
              <div class="p-6 text-gray-400 text-sm leading-relaxed border-t border-slate-700/50">
                <p>Unfortunately, your message will be lost forever. We do not store your passwords or messages on any server, so there is no "forgot password" feature. This ensures maximum security‚Äîonly the person with the password can read the message.</p>
              </div>
            </div>
          </div>

          <!-- FAQ Item 5: Compatibility -->
          <div class="border border-slate-700 rounded-lg bg-slate-800/30 overflow-hidden backdrop-blur-sm">
            <button class="accordion-header w-full px-6 py-4 flex items-center justify-between text-left hover:bg-slate-800/50 transition-colors duration-200">
              <span class="font-semibold text-gray-200">üì± Where can I use this?</span>
              <span class="chevron text-gray-400 transition-transform duration-300">‚ñº</span>
            </button>
            <div class="accordion-content bg-slate-900/30">
              <div class="p-6 text-gray-400 text-sm leading-relaxed border-t border-slate-700/50">
                <p>Everywhere! Emoji Spy works on any device with a web browser (iPhone, Android, PC, Mac). You can paste the encrypted emoji messages into WhatsApp, Telegram, Signal, iMessage, Messenger, Discord, or even email.</p>
              </div>
            </div>
          </div>

          <!-- FAQ Item 6: Randomization -->
          <div class="border border-slate-700 rounded-lg bg-slate-800/30 overflow-hidden backdrop-blur-sm">
            <button class="accordion-header w-full px-6 py-4 flex items-center justify-between text-left hover:bg-slate-800/50 transition-colors duration-200">
              <span class="font-semibold text-gray-200">üé≤ Why does the output change every time?</span>
              <span class="chevron text-gray-400 transition-transform duration-300">‚ñº</span>
            </button>
            <div class="accordion-content bg-slate-900/30">
              <div class="p-6 text-gray-400 text-sm leading-relaxed border-t border-slate-700/50">
                <p>This is a security feature! Even if you encrypt the same message with the same password multiple times, the emoji result will be different each time. We use a random "Salt" and "Initialization Vector" (IV) for every encryption to prevent attackers from recognizing patterns.</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Footer -->
        <footer class="mt-20 text-center text-gray-500 text-sm pb-8">
          <p class="mb-2">Made with üîê by <span class="text-gray-300 font-semibold">Emoji Spy</span></p>
          <p>Your messages never leave your device.</p>
          <p class="mt-4 text-xs opacity-50">&copy; <span id="currentYear"></span> Emoji Spy. All rights reserved.</p>
        </footer>
        </div>
      </div>
    </main>

    <!-- Tab Switcher JavaScript -->
    <script>
      /**
       * Tab Switcher Functionality
       * Handles switching between Encrypt and Decrypt tabs with smooth animations
       */
      
      // Get all tab buttons and content containers
      const tabButtons = document.querySelectorAll('.tab-btn');
      const tabContents = document.querySelectorAll('.tab-content');
      
      // Active tab state
      let activeTab = 'encrypt';
      
      /**
       * Initialize the tab switcher
       * Sets up the default active tab (Encrypt)
       */
      function initializeTabs() {
        setActiveTab('encrypt');
      }
      
      /**
       * Set the active tab
       * @param {string} tabName - The name of the tab to activate ('encrypt' or 'decrypt')
       */
      function setActiveTab(tabName) {
        activeTab = tabName;
        
        // Update button styles
        tabButtons.forEach(button => {
          const isActive = button.dataset.tab === tabName;
          
          // Remove all possible active and inactive classes first to reset state
          button.classList.remove(
            'bg-accent-green', 'text-slate-900', 'neon-glow-green',
            'bg-accent-purple', 'text-white', 'neon-glow-purple',
            'bg-transparent', 'text-gray-400', 'hover:bg-slate-700'
          );
          
          if (isActive) {
            // Active tab styling
            if (tabName === 'encrypt') {
              button.classList.add('bg-accent-green', 'text-slate-900', 'neon-glow-green');
            } else {
              button.classList.add('bg-accent-purple', 'text-white', 'neon-glow-purple');
            }
          } else {
            // Inactive tab styling
            button.classList.add('bg-transparent', 'text-gray-400', 'hover:bg-slate-700');
          }
        });
        
        // Update content visibility with fade animation
        tabContents.forEach(content => {
          const contentId = content.id.replace('Content', '');
          
          if (contentId === tabName) {
            // Show active content
            content.classList.remove('hidden');
            // Trigger reflow to restart animation
            void content.offsetWidth;
            content.classList.add('fade-in');
          } else {
            // Hide inactive content
            content.classList.add('hidden');
            content.classList.remove('fade-in');
          }
        });
      }
      
      /**
       * Handle tab button clicks
       */
      tabButtons.forEach(button => {
        button.addEventListener('click', () => {
          const tabName = button.dataset.tab;
          setActiveTab(tabName);
        });
      });
      
      
      // Initialize tabs on page load
      document.addEventListener('DOMContentLoaded', initializeTabs);
    </script>

    <!-- Shared Encryption Logic -->
    <script>
      /**
       * Core Encryption & Decryption Logic
       * Shared across the application
       */

      /**
       * EMOJI MAP - Base-65 Encoding System
       * ===================================
       * This emoji set contains exactly 65 unique emojis used for encoding.
       * Each emoji maps directly to a Base64 character.
       */
      const EMOJI_MAP = [
        // 0-31: Faces (Smileys)
        'üòÄ', 'üòÉ', 'üòÑ', 'üòÅ', 'üòÜ', 'üòÖ', 'ü§£', 'üòÇ', 'üôÇ', 'üôÉ', 'üòâ', 'üòä', 'üòá', 'ü•∞', 'üòç', 'ü§©', 'üòò', 'üòó', 'üòö', 'üòô', 'üòã', 'üòõ', 'üòú', 'ü§™', 'üòù', 'ü§ë', 'ü§ó', 'ü§≠', 'ü§´', 'ü§î', 'ü§ê', 'ü§®',
        // 32-63: Faces Part 2 (Neutral/Skeptical)
        'üòê', 'üòë', 'üò∂', 'üòè', 'üòí', 'üôÑ', 'üò¨', 'ü§•', 'üòå', 'üòî', 'üò™', 'ü§§', 'üò¥', 'üò∑', 'ü§í', 'ü§ï', 'ü§¢', 'ü§Æ', 'ü§ß', 'ü•µ', 'ü•∂', 'ü•¥', 'üòµ', 'ü§Ø', 'ü§†', 'ü•≥', 'üòé', 'ü§ì', 'üßê', 'üòï', 'üòü', 'üôÅ',
        // 64-95: Faces Part 3 (Negative/Concerned)
        'üòÆ', 'üòØ', 'üò≤', 'üò≥', 'ü•∫', 'üò¶', 'üòß', 'üò®', 'üò∞', 'üò•', 'üò¢', 'üò≠', 'üò±', 'üòñ', 'üò£', 'üòû', 'üòì', 'üò©', 'üò´', 'ü•±', 'üò§', 'üò°', 'üò†', 'ü§¨', 'üòà', 'üëø', 'üíÄ', '‚ò†Ô∏è', 'üí©', 'ü§°', 'üëπ', 'üë∫',
        // 96-127: Gestures & Hands
        'üëª', 'üëΩ', 'üëæ', 'ü§ñ', 'üò∫', 'üò∏', 'üòπ', 'üòª', 'üòº', 'üòΩ', 'üôÄ', 'üòø', 'üòæ', 'üôà', 'üôâ', 'üôä', 'üíã', 'üíå', 'üíò', 'üíù', 'üíñ', 'üíó', 'üíì', 'üíû', 'üíï', 'üíü', '‚ù£Ô∏è', 'üíî', '‚ù§Ô∏è', 'üß°', 'üíõ', 'üíö',
        // 128-159: Hands Part 2
        'üíô', 'üíú', 'ü§é', 'üñ§', 'ü§ç', 'üíØ', 'üí¢', 'üí•', 'üí´', 'üí¶', 'üí®', 'üï≥Ô∏è', 'üí£', 'üí¨', 'üëÅÔ∏è‚Äçüó®Ô∏è', 'üó®Ô∏è', 'üóØÔ∏è', 'üí≠', 'üí§', 'üëã', 'ü§ö', 'üñêÔ∏è', '‚úã', 'üññ', 'üëå', 'ü§è', '‚úåÔ∏è', 'ü§û', 'ü§ü', 'ü§ò', 'ü§ô', 'üëà',
        // 160-191: General Objects & Animals
        'üëâ', 'üëÜ', 'üñï', 'üëá', '‚òùÔ∏è', 'üëç', 'üëé', '‚úä', 'üëä', 'ü§õ', 'ü§ú', 'üëè', 'üôå', 'üëê', 'ü§≤', 'ü§ù', 'üôè', '‚úçÔ∏è', 'üíÖ', 'ü§≥', 'üí™', 'ü¶æ', 'ü¶µ', 'ü¶ø', 'ü¶∂', 'üëÇ', 'ü¶ª', 'üëÉ', 'üß†', 'ü¶∑', 'ü¶¥', 'üëÄ',
        // 192-223: Animals & Nature
        'üëÅÔ∏è', 'üëÖ', 'üëÑ', 'üë∂', 'üßí', 'üë¶', 'üëß', 'üßë', 'üë±', 'üë®', 'üßî', 'üë©', 'üßì', 'üëµ', 'üë¥', 'üë≤', 'üë≥', 'üßï', 'üëÆ', 'üë∑', 'üíÇ', 'üïµÔ∏è', 'üë©‚Äç‚öïÔ∏è', 'üë®‚Äç‚öïÔ∏è', 'üë©‚Äçüåæ', 'üë®‚Äçüåæ', 'üë©‚Äçüç≥', 'üë®‚Äçüç≥', 'üë©‚Äçüéì', 'üë®‚Äçüéì', 'üë©‚Äçüé§', 'üë®‚Äçüé§',
        // 224-255: Nature & Symbols
        'üë©‚Äçüè´', 'üë®‚Äçüè´', 'üë©‚Äçüè≠', 'üë®‚Äçüè≠', 'üë©‚Äçüíª', 'üë®‚Äçüíª', 'üë©‚Äçüíº', 'üë®‚Äçüíº', 'üë©‚Äçüîß', 'üë®‚Äçüîß', 'üë©‚Äçüî¨', 'üë®‚Äçüî¨', 'üë©‚Äçüé®', 'üë®‚Äçüé®', 'üë©‚Äçüöí', 'üë®‚Äçüöí', 'üë©‚Äç‚úàÔ∏è', 'üë®‚Äç‚úàÔ∏è', 'üë©‚ÄçüöÄ', 'üë®‚ÄçüöÄ', 'üë©‚Äç‚öñÔ∏è', 'üë®‚Äç‚öñÔ∏è', 'üë∞', 'ü§µ', 'üë∏', 'ü§¥', 'üßö', 'üßû', 'üßú', 'üßü', 'üßô', 'üßõ'
      ];
      
      const BASE64_CHARS = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
      
      // Verify emoji map has exactly 256 emojis
      if (EMOJI_MAP.length !== 256) {
        console.error(`EMOJI_MAP should have 256 emojis, but has ${EMOJI_MAP.length}`);
      }

      // Pre-compute reverse map for O(1) decryption lookup
      const EMOJI_TO_INDEX = new Map();
      EMOJI_MAP.forEach((emoji, index) => {
        EMOJI_TO_INDEX.set(emoji, index);
      });

      /**
       * Convert bytes (WordArray) to emoji encoding (Base256)
       */
      function bytesToEmojis(wordArray) {
        const words = wordArray.words;
        const sigBytes = wordArray.sigBytes;
        let result = '';
        for (let i = 0; i < sigBytes; i++) {
          const byte = (words[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;
          result += EMOJI_MAP[byte] || '?';
        }
        return result;
      }

      /**
       * Convert emoji encoding back to bytes (WordArray)
       */
      function emojisToBytes(emojiString) {
        if (!emojiString || emojiString.length === 0) return CryptoJS.lib.WordArray.create();
        
        let emojis;
        if (typeof Intl !== 'undefined' && Intl.Segmenter) {
            const segmenter = new Intl.Segmenter('en', { granularity: 'grapheme' });
            emojis = Array.from(segmenter.segment(emojiString)).map(segment => segment.segment);
        } else {
            emojis = Array.from(emojiString);
        }
        
        const bytes = [];
        for (const emoji of emojis) {
          if (!emoji.trim()) continue;
          const index = EMOJI_TO_INDEX.get(emoji);
          if (index !== undefined) {
            bytes.push(index);
          }
        }
        
        // Convert byte array to WordArray
        const words = [];
        for (let i = 0; i < bytes.length; i++) {
          words[i >>> 2] |= bytes[i] << (24 - (i % 4) * 8);
        }
        return CryptoJS.lib.WordArray.create(words, bytes.length);
      }

      /**
       * Encrypt the message using AES-256 with PBKDF2, Salt, and IV
       * Reduced metadata overhead (8-byte Salt/IV) and Base256 encoding
       */
      function encryptToEmojis(message, password) {
        try {
          // 1. Generate random Salt (64-bit) and IV (64-bit) for reduced overhead
          const salt = CryptoJS.lib.WordArray.random(64/8);
          const iv = CryptoJS.lib.WordArray.random(64/8);

          // 2. Derive key from password + salt using PBKDF2
          const key = CryptoJS.PBKDF2(password, salt, {
            keySize: 256 / 32,
            iterations: 10000,
          });

          // 3. Encrypt with AES-256-CBC
          const encrypted = CryptoJS.AES.encrypt(message, key, { 
            iv: iv,
            padding: CryptoJS.pad.Pkcs7,
            mode: CryptoJS.mode.CBC
          });

          // 4. Combine: salt (8 bytes) + iv (8 bytes) + ciphertext -> binary
          const combined = salt.clone().concat(iv).concat(encrypted.ciphertext);

          // 5. Direct binary to emoji mapping (Base256)
          return bytesToEmojis(combined);
        } catch (error) {
          console.error('Encryption error:', error);
          throw new Error('Failed to encrypt message');
        }
      }

      /**
       * Decrypt the emoji message using AES-256 with PBKDF2, Salt, and IV
       * Expects 8-byte Salt/IV and Base256 encoding
       */
      function decryptFromEmojis(emojiString, password) {
        try {
          // 1. Convert emojis back to binary (WordArray)
          const combined = emojisToBytes(emojiString);

          // 2. Extract salt (first 8 bytes), IV (next 8 bytes), ciphertext (rest)
          // 8 bytes = 2 words (4 bytes each)
          const salt = CryptoJS.lib.WordArray.create(combined.words.slice(0, 2));
          const iv = CryptoJS.lib.WordArray.create(combined.words.slice(2, 4));
          const ciphertext = CryptoJS.lib.WordArray.create(combined.words.slice(4), combined.sigBytes - 16);

          // 3. Derive same key from password + extracted salt
          const key = CryptoJS.PBKDF2(password, salt, {
            keySize: 256 / 32,
            iterations: 10000,
          });

          // 4. Decrypt
          const decrypted = CryptoJS.AES.decrypt(
            { ciphertext: ciphertext }, 
            key, 
            { 
              iv: iv,
              padding: CryptoJS.pad.Pkcs7,
              mode: CryptoJS.mode.CBC
            }
          );

          // 5. Return UTF-8 string or throw error
          const result = decrypted.toString(CryptoJS.enc.Utf8);
          if (!result) throw new Error("Decryption Failed");
          return result;
        } catch (error) {
          console.error('Decryption error:', error);
          throw new Error('Decryption failed');
        }
      }

      /**
       * UI HELPER FUNCTIONS
       */

      /**
       * Toggle password field visibility
       */
      function uiTogglePassword(inputElement, iconElement) {
        const isPassword = inputElement.type === 'password';
        inputElement.type = isPassword ? 'text' : 'password';
        iconElement.textContent = isPassword ? 'üôà' : 'üëÅÔ∏è';
      }

      /**
       * Copy text to clipboard with UI feedback
       */
      async function uiCopyToClipboard(text, buttonElement, iconElement, textElement, successClass = 'bg-green-500') {
        try {
          await navigator.clipboard.writeText(text);
          triggerCopyFeedback(buttonElement, iconElement, textElement, successClass);
        } catch (error) {
          // Fallback for older browsers or restricted contexts
          fallbackCopyTextToClipboard(text, buttonElement, iconElement, textElement, successClass);
        }
      }

      /**
       * Setup clear button functionality for an input/textarea
       */
      function uiSetupClearButton(inputEl, clearBtnEl, onClear) {
        if (!inputEl || !clearBtnEl) return;

        const toggleClearBtn = () => {
          if (inputEl.value.length > 0) {
            clearBtnEl.classList.remove('hidden');
          } else {
            clearBtnEl.classList.add('hidden');
          }
        };

        inputEl.addEventListener('input', toggleClearBtn);
        inputEl.addEventListener('focus', toggleClearBtn);
        
        clearBtnEl.addEventListener('click', () => {
          inputEl.value = '';
          toggleClearBtn();
          inputEl.focus();
          if (onClear) onClear();
        });

        // Initial check
        toggleClearBtn();
      }

      /**
       * Share emoji string on WhatsApp
       */
      function shareOnWhatsApp(emojiString) {
        if (!emojiString) return;
        const encoded = encodeURIComponent(emojiString);
        // Uses the universal WhatsApp URL scheme that works on both mobile and desktop
        window.open(`https://wa.me/?text=${encoded}`, '_blank');
      }

      /**
       * Fallback copy mechanism using execCommand
       */
      function fallbackCopyTextToClipboard(text, buttonElement, iconElement, textElement, successClass) {
        const textArea = document.createElement("textarea");
        textArea.value = text;
        textArea.style.position = "fixed";
        textArea.style.left = "-9999px";
        document.body.appendChild(textArea);
        textArea.select();
        
        try {
          const successful = document.execCommand('copy');
          if (successful) {
            triggerCopyFeedback(buttonElement, iconElement, textElement, successClass);
          } else {
             alert('‚ùå Failed to copy. Please copy manually.');
          }
        } catch (err) {
          alert('‚ùå Failed to copy. Please copy manually.');
        }
        document.body.removeChild(textArea);
      }

      /**
       * Trigger visual feedback for copy action
       */
      function triggerCopyFeedback(buttonElement, iconElement, textElement, successClass) {
        const originalIcon = iconElement.textContent;
        const originalText = textElement ? textElement.textContent : '';
        
        iconElement.textContent = '‚úÖ';
        if (textElement) textElement.textContent = 'Copied!';
        buttonElement.classList.add(successClass);
        
        setTimeout(() => {
          iconElement.textContent = originalIcon;
          if (textElement) textElement.textContent = originalText;
          buttonElement.classList.remove(successClass);
        }, 2000);
      }
      
      /**
       * Helper: Show inline error
       */
      function showInlineError(elementId, show = true) {
        const el = document.getElementById(elementId);
        if (el) {
          if (show) {
             el.classList.remove('hidden');
             el.classList.add('animate-shake'); 
             // remove shake after animation
             setTimeout(() => el.classList.remove('animate-shake'), 500);
          } else {
             el.classList.add('hidden');
          }
        }
      }

      /**
       * Helper: Set general error text
       */
      function setGeneralError(containerId, textId, message) {
        const container = document.getElementById(containerId);
        const textToSet = document.getElementById(textId);
        if (container && textToSet) {
           textToSet.textContent = message;
           container.classList.remove('hidden');
        }
      }
      
      /**
       * Helper: Clear general error
       */
      function clearGeneralError(containerId) {
        const container = document.getElementById(containerId);
        if (container) {
           container.classList.add('hidden');
        }
      }
    </script>

    <script>
      /**
       * Encrypt View Functionality
       * Handles message encryption, character counting, password visibility, and clipboard operations
       */
      
      // DOM Elements - Encrypt Form
      const messageInput = document.getElementById('messageInput');
      const passwordInput = document.getElementById('passwordInput');
      const encryptForm = document.getElementById('encryptForm');
      const encryptBtn = document.getElementById('encryptBtn');
      const charCount = document.getElementById('charCount');
      const togglePasswordBtn = document.getElementById('togglePassword');
      const eyeIcon = document.getElementById('eyeIcon');
      
      // DOM Elements - Output Section
      const encryptOutput = document.getElementById('encryptOutput');
      const encryptedText = document.getElementById('encryptedText');
      const copyEncryptBtn = document.getElementById('copyEncryptBtn');
      const shareWhatsAppBtn = document.getElementById('shareWhatsAppBtn');
      const copyIcon = document.getElementById('copyIcon');
      const copyText = document.getElementById('copyText');
      const resetEncryptBtn = document.getElementById('resetEncryptBtn');
      const clearMessageInput = document.getElementById('clearMessageInput');
      const clearPasswordInput = document.getElementById('clearPasswordInput');
      
      // Constants
      const MAX_CHARACTERS = 1000;
      
      /**
       * Update character counter
       */
      function updateCharacterCount() {
        const length = messageInput.value.length;
        charCount.textContent = `${length} character${length !== 1 ? 's' : ''}`;
        
        // Change color if approaching limit
        if (length > MAX_CHARACTERS * 0.9) {
          charCount.classList.add('text-red-400');
          charCount.classList.remove('text-gray-500');
        } else {
          charCount.classList.remove('text-red-400');
          charCount.classList.add('text-gray-500');
        }
        
        // Enforce max length
        if (length > MAX_CHARACTERS) {
          messageInput.value = messageInput.value.substring(0, MAX_CHARACTERS);
          updateCharacterCount();
        }
        
        // Clear error if user is typing
        if (length > 0) {
            showInlineError('encryptMessageError', false);
        }
      }
      
      /**
       * Handle form submission
       */
      function handleEncryptSubmit(e) {
        e.preventDefault();
        
        // Clear previous generic errors
        clearGeneralError('encryptGeneralError');
        
        const message = messageInput.value.trim();
        const password = passwordInput.value.trim(); // Auto-trim password
        
        let hasError = false;

        // Validate inputs
        if (!message) {
          showInlineError('encryptMessageError', true);
          messageInput.focus();
          hasError = true;
        }
        
        if (!password || password.length < 4) {
          showInlineError('encryptPasswordError', true);
          if (!hasError) passwordInput.focus();
          hasError = true;
        }
        
        if (hasError) return;
        
        // Show loading state
        const originalBtnContent = encryptBtn.innerHTML;
        encryptBtn.disabled = true;
        encryptBtn.innerHTML = '<span class="spinner inline-block w-5 h-5 border-2 border-slate-900 border-t-transparent rounded-full"></span> <span>Encrypting...</span>';
        
        // Simulate processing delay for better UX
        setTimeout(() => {
          try {
            // Encrypt the message
            const encrypted = encryptToEmojis(message, password);
            
            // Display the result
            encryptedText.textContent = encrypted;
            encryptOutput.classList.remove('hidden');
            encryptOutput.classList.add('fade-in');
            
            // Scroll to output
            encryptOutput.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            
            // Reset button state
            encryptBtn.disabled = false;
            encryptBtn.innerHTML = originalBtnContent;

            // Show instruction section
            const instrSection = document.getElementById('instructionSection');
            if (instrSection) {
              instrSection.classList.remove('hidden');
              instrSection.classList.add('fade-in');
            }
            
          } catch (error) {
            setGeneralError('encryptGeneralError', 'encryptGeneralErrorText', 'Encryption failed. Please try again.');
            encryptBtn.disabled = false;
            encryptBtn.innerHTML = originalBtnContent;
          }
        }, 500);
      }
      


      
      /**
       * Reset the form and hide output
       */

      function resetEncryptForm() {
        // Clear inputs
        messageInput.value = '';
        passwordInput.value = '';
        passwordInput.type = 'password';
        eyeIcon.textContent = 'üëÅÔ∏è';
        
        // Clear errors
        showInlineError('encryptMessageError', false);
        showInlineError('encryptPasswordError', false);
        clearGeneralError('encryptGeneralError');

        // Hide output and instructions
        encryptOutput.classList.add('hidden');
        const instrSection = document.getElementById('instructionSection');
        if (instrSection) instrSection.classList.add('hidden');
        
        // Reset character count
        updateCharacterCount();
        
        // Focus on message input
        messageInput.focus();
        
        // Scroll to top of form
        encryptForm.scrollIntoView({ behavior: 'smooth', block: 'start' });
      }
      
      /**
       * Event Listeners - Encrypt View
       */
      if (messageInput) {
        messageInput.addEventListener('input', updateCharacterCount);
      }
      
      if (passwordInput) {
          passwordInput.addEventListener('input', () => {
             if (passwordInput.value.length >= 4) {
                 showInlineError('encryptPasswordError', false);
             }
          });
      }
      
      if (togglePasswordBtn) {
        togglePasswordBtn.addEventListener('click', () => {
          uiTogglePassword(passwordInput, eyeIcon);
        });
      }
      
      if (encryptForm) {
        encryptForm.addEventListener('submit', handleEncryptSubmit);
      }
      
      if (copyEncryptBtn) {
        copyEncryptBtn.addEventListener('click', () => {
          uiCopyToClipboard(
            encryptedText.textContent, 
            copyEncryptBtn, 
            copyIcon, 
            copyText, 
            'bg-green-500'
          );
        });
      }

      if (shareWhatsAppBtn) {
        shareWhatsAppBtn.addEventListener('click', () => {
          const text = encryptedText.textContent;
          if (text) {
             shareOnWhatsApp(text);
          }
        });
      }
      
      if (resetEncryptBtn) {
        resetEncryptBtn.addEventListener('click', resetEncryptForm);
      }

      // Initialize Clear Buttons
      uiSetupClearButton(messageInput, clearMessageInput, () => {
        updateCharacterCount();
        showInlineError('encryptMessageError', false);
      });
      uiSetupClearButton(passwordInput, clearPasswordInput, () => {
        showInlineError('encryptPasswordError', false);
      });
    </script>

    <!-- Decrypt View JavaScript -->
    <script>
      /**
       * Decrypt View Functionality
       * Handles message decryption, password visibility, and clipboard operations
       */
      
      // DOM Elements - Decrypt Form
      const emojiInput = document.getElementById('emojiInput');
      const decryptPasswordInput = document.getElementById('decryptPasswordInput');
      const decryptForm = document.getElementById('decryptForm');
      const decryptBtn = document.getElementById('decryptBtn');
      const toggleDecryptPasswordBtn = document.getElementById('toggleDecryptPassword');
      const decryptEyeIcon = document.getElementById('decryptEyeIcon');
      
      // DOM Elements - Decrypt Output Section
      const decryptOutput = document.getElementById('decryptOutput');
      const decryptedText = document.getElementById('decryptedText');
      const copyDecryptBtn = document.getElementById('copyDecryptBtn');
      const copyDecryptIcon = document.getElementById('copyDecryptIcon');
      const copyDecryptText = document.getElementById('copyDecryptText');
      const resetDecryptBtn = document.getElementById('resetDecryptBtn');
      const clearEmojiInput = document.getElementById('clearEmojiInput');
      const clearDecryptPasswordInput = document.getElementById('clearDecryptPasswordInput');
      


      
      // Core decryption logic has been moved to the shared script block

      
      /**
       * Handle decrypt form submission
       */
      function handleDecryptSubmit(e) {
        e.preventDefault();
        
        // Clear previous generic errors
        clearGeneralError('decryptGeneralError');
        
        const emojiMessage = emojiInput.value.trim();
        const password = decryptPasswordInput.value.trim(); // Auto-trim password
        
        let hasError = false;

        // Validate inputs
        if (!emojiMessage) {
          showInlineError('decryptEmojiError', true);
          emojiInput.focus();
          hasError = true;
        }
        
        if (!password || password.length < 4) {
           showInlineError('decryptPasswordError', true);
           if (!hasError) decryptPasswordInput.focus();
           hasError = true;
        }
        
        if (hasError) return;
        
        // Show loading state
        const originalBtnContent = decryptBtn.innerHTML;
        decryptBtn.disabled = true;
        decryptBtn.innerHTML = '<span class="spinner inline-block w-5 h-5 border-2 border-white border-t-transparent rounded-full"></span> <span>Decrypting...</span>';
        
        // Simulate processing delay for better UX
        setTimeout(() => {
          try {
            // Decrypt the message
            const decrypted = decryptFromEmojis(emojiMessage, password);
            
            // Display the result
            decryptedText.textContent = decrypted;
            decryptOutput.classList.remove('hidden');
            decryptOutput.classList.add('fade-in');
            
            // Scroll to output
            decryptOutput.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            
            // Reset button state
            decryptBtn.disabled = false;
            decryptBtn.innerHTML = originalBtnContent;
            
          } catch (error) {
            setGeneralError('decryptGeneralError', 'decryptGeneralErrorText', 'Decryption failed. Wrong password or invalid message.');
            decryptBtn.disabled = false;
            decryptBtn.innerHTML = originalBtnContent;
          }
        }, 500);
      }
      


      
      /**
       * Reset the decrypt form and hide output
       */
      function resetDecryptForm() {
        // Clear inputs
        emojiInput.value = '';
        decryptPasswordInput.value = '';
        decryptPasswordInput.type = 'password';
        decryptEyeIcon.textContent = 'üëÅÔ∏è';
        
        // Clear errors
        showInlineError('decryptEmojiError', false);
        showInlineError('decryptPasswordError', false);
        clearGeneralError('decryptGeneralError');

        // Hide output
        decryptOutput.classList.add('hidden');
        
        // Focus on emoji input
        emojiInput.focus();
        
        // Scroll to top of form
        decryptForm.scrollIntoView({ behavior: 'smooth', block: 'start' });
      }
      
      /**
       * Event Listeners - Decrypt View
       */
       if (emojiInput) {
          emojiInput.addEventListener('input', () => {
              if (emojiInput.value.trim().length > 0) {
                  showInlineError('decryptEmojiError', false);
              }
          });
      }
      
      if (decryptPasswordInput) {
          decryptPasswordInput.addEventListener('input', () => {
              if (decryptPasswordInput.value.length >= 4) {
                  showInlineError('decryptPasswordError', false);
              }
          });
      }

      if (toggleDecryptPasswordBtn) {
        toggleDecryptPasswordBtn.addEventListener('click', () => {
          uiTogglePassword(decryptPasswordInput, decryptEyeIcon);
        });
      }
      
      if (decryptForm) {
        decryptForm.addEventListener('submit', handleDecryptSubmit);
      }
      
      if (copyDecryptBtn) {
        copyDecryptBtn.addEventListener('click', () => {
          uiCopyToClipboard(
            decryptedText.textContent,
            copyDecryptBtn,
            copyDecryptIcon,
            copyDecryptText,
            'bg-purple-700'
          );
        });
      }
      
      if (resetDecryptBtn) {
        resetDecryptBtn.addEventListener('click', resetDecryptForm);
      }

      // Initialize Clear Buttons
      uiSetupClearButton(emojiInput, clearEmojiInput, () => {
        showInlineError('decryptEmojiError', false);
      });
      uiSetupClearButton(decryptPasswordInput, clearDecryptPasswordInput, () => {
        showInlineError('decryptPasswordError', false);
      });
    </script>

    <!-- FAQ & Footer Script -->
    <script>
      /**
       * FAQ Accordion Functionality
       */
      const accordions = document.querySelectorAll('.accordion-header');

      accordions.forEach(acc => {
        acc.addEventListener('click', () => {
          // Toggle current accordion
          const content = acc.nextElementSibling;
          const chevron = acc.querySelector('.chevron');
          
          content.classList.toggle('open');
          chevron.classList.toggle('rotate');
          
          // Optional: Close other accordions for cleaner UI
          accordions.forEach(otherAcc => {
            if (otherAcc !== acc) {
              const otherContent = otherAcc.nextElementSibling;
              const otherChevron = otherAcc.querySelector('.chevron');
              if (otherContent) otherContent.classList.remove('open');
              if (otherChevron) otherChevron.classList.remove('rotate');
            }
          });
        });
      });
      
      // Set current year in footer
      const yearSpan = document.getElementById('currentYear');
      if (yearSpan) {
        yearSpan.textContent = new Date().getFullYear();
      }
    </script>
  </body>
</html>
